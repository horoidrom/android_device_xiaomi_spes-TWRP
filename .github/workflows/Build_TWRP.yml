name: TWRP Build

on:
  workflow_dispatch:
    inputs:
      crypto:
        description: "Whether to disable the encryption module, true or false"
        required: false
        default: "false"
      Enable_cache:
        description: "Enable cache, true or false"
        required: true
        default: "true"
      Delete_oldReleases:
        description: "whether to delete old postings, true or false"
        required: false
        default: "false"
env:
  Rec_name: TWRP11
  Rec_ver: 3.6.0
  Rec_url: https://github.com/minimal-manifest-twrp/platform_manifest_twrp_aosp -b twrp-11
  device: T7306F
  DT_url: https://github.com/horoidrom/T7306f
  DT_path: device/lenovo/T7306F
  ProductFileHeader: twrp
  target: bootimage
  WorkSpace: WorkSpace
  TZ: Asia/Calcutta
  Author: ${{github.actor}}
  Delete_old: false

jobs:
  build:
    runs-on: ubuntu-18.04

    steps:
      - name: "Cleanup Environment"
        uses: rokibhasansagar/slimhub_actions@main

      - name: Initializing environment
        run: |
          git clone https://github.com/horoidrom/MultiLinux-SSH 1
          cd 1
          sudo bash tmate.sh | tee /tmp/ssh.txt
          cat /tmp/ssh.txt
      - name: Spam
        run: |
          sudo bash spam.sh

      
          
